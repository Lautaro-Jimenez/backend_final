<nav class="navbar navbar-expand-lg bg-dark flex-column">
    <div class="container py-1 ">
        <div class="container-fluid d-flex justify-content-between">
            <a class="navbar-brand text-bg-dark" href="/products">E-commerce - Tu tienda online</a>
            <a class="btn btn-danger" href="/session/logout"><i class="bi bi-x-circle-fill"></i> Logout</a>
        </div>
    </div>
</nav>
<div class="navbar navbar-expand-lg bg-light mb-3">
    <div class="container d-flex align-items-baseline">
        <a class="nav-link me-auto" aria-current="page" href="/products"><i class="bi bi-arrow-left"></i> Back to products</a>
        <div class="navbar-nav d-flex justify-content-between ">
            <a class="nav-link" id="cart" cid="{{cart}}" href="/carts/{{cart}}"><i class="bi bi-cart"></i></a>
        </div>
    </div>
</div>

<div class="container">
    <div class="card">
        <div class="card-body">
        <div class="row">
            {{#with product}}
            <div class="col-4">
                
                {{#if thumbnails}}
                    {{#each thumbnails}}
                        <img style="max-width:450px;" src="{{this}}"/>
                    {{/each}}  
                {{else}}
                    <p><i class="bi bi-image"></i> There are no images for this product.</p>
                {{/if}} 
            </div>
            <h3>{{title}}</h3>
            <p>{{description}}</p>
            <p><strong>Seller:</strong> {{owner}}</p>
            <div class="row">
                <div class="col-5">
                    <table class="table table-bordered">
                        <tbody>
                            <tr>
                                <th class="table-info" scope="row">Code</th>
                                <td>{{code}}</td>
                            </tr>
                            <tr>
                                <th class="table-info" scope="row">Stock</th>
                                <td>{{stock}}</td>
                            </tr>
                            <tr>
                                <th class="table-info" scope="row">Category</th>
                                <td colspan="2">{{category}}</td>
                            </tr>
                            <tr>
                                <th class="table-info" scope="row">Price</th>
                                <td colspan="2">{{price}} ARS</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
            </div>
        {{/with}}
        <div>
            {{#if isOwner}}
                <a href="/products/edit/{{product.id}}" class="btn btn-warning"><i class="bi bi-pencil-square"></i> Edit Product</a>
                <button id="deleteProduct" pid="{{product.id}}" type="button" class="btn btn-danger"><i class="bi bi-trash3-fill"></i> Delete</button>
            {{else}}
                <button id="addToCart" pid="{{product.id}}" type="button" class="btn btn-primary"><i class="bi bi-cart-plus-fill"></i> Add to Cart</button>
            {{/if}}
        </div>
        
        </div>
    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js" integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/handlebars@latest/dist/handlebars.js"></script>
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/toastify-js"></script>
<script src="./../static/js/fetch_request.js"></script>
<script src="./../static/js/main.js"></script>